<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Basic meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- Site meta tags -->
    <title>{% block title %}IES Las Fuentezuelas{% endblock %}</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{{ asset('css/bootstrap.min.css') }}">
    <!-- Modern CSS Styles -->
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f8f9fa;
            color: #343a40;
        }
        .nav-tabs .nav-link {
            border: 1px solid transparent;
            border-top-left-radius: .25rem;
            border-top-right-radius: .25rem;
            background-color: #e9ecef;
            color: #495057;
        }
        .nav-tabs .nav-link.active {
            color: #007bff;
            background-color: #fff;
            border-color: #dee2e6 #dee2e6 #fff;
        }
        .tab-content > .tab-pane {
            display: none;
        }
        .tab-content > .active {
            display: block;
        }
        .nav-link.disabled {
            pointer-events: none;
            color: #6c757d;
            background-color: #e9ecef;
        }
        .styled[disabled] {
            background-color: gray;
            color: white;
            cursor: not-allowed;
        }
    </style>
    <!-- Responsive CSS -->
    <link rel="stylesheet" href="{{ asset('css/responsive.css') }}">
    <link rel="stylesheet" href="{{ asset('css/pestaña/s.css') }}">
    <!-- Favicon -->
    <link rel="icon" href="{{ asset('images/fevicon.png') }}" type="image/gif" />
    <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet" href="{{ asset('css/jquery.mCustomScrollbar.min.css') }}">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
    <!-- MDBootstrap CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.css" />
    {% block stylesheets %}{% endblock %}
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body class="main-layout">
    <!-- Tabs navs -->
    <ul class="nav nav-tabs mb-3" id="ex1" role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active" id="ex1-tab-1" data-mdb-toggle="tab" href="#ex1-tabs-1" role="tab" aria-controls="ex1-tabs-1" aria-selected="true">Actividad</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="ex1-tab-2" data-mdb-toggle="tab" href="#ex1-tabs-2" role="tab" aria-controls="ex1-tabs-2" aria-selected="false">Recursos</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="ex1-tab-3" data-mdb-toggle="tab" href="#ex1-tabs-3" role="tab" aria-controls="ex1-tabs-3" aria-selected="false">Ponentes</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="ex1-tab-4" data-mdb-toggle="tab" href="#ex1-tabs-4" role="tab" aria-controls="ex1-tabs-4" aria-selected="false">Grupos</a>
        </li>
    </ul>
    <!-- Tabs navs -->

    <!-- Tabs content -->
    <div class="tab-content" id="ex1-content">
        <div class="tab-pane fade show active" id="ex1-tabs-1" role="tabpanel" aria-labelledby="ex1-tab-1">
            <div class="tab-content">
                <form class="form-container" method="post" action="{{ path('app_pestañas') }}">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="actividad-select">Actividad</label>
                            <select name="actividad" id="actividad-select">
                                <option value="simple">Simple</option>
                                <option value="compuesta">Compuesta</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="id">ID</label>
                            <input type="number" id="idd" name="id" disabled>
                        </div>
                        <div class="form-row" id="titulo-container" style="display: none;">
                            <div class="form-group full-width">
                                <label for="titulo">Título</label>
                                <input type="text" id="titulo" name="titulo">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="aforo">Aforo</label>
                            <input type="number" id="aforo" name="aforo" min="1" step="1">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="inicio">Inicio</label>
                            <input type="date" id="inicio" name="inicio">
                        </div>
                        <div class="form-group">
                            <label for="fin">Fin</label>
                            <input type="date" id="fin" name="fin">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="evento">Evento</label>
                        <select id="evento" name="evento">
                            <option value="">Seleccione un evento</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="descripcion">Descripción</label>
                            <textarea name="descripcion" id="descripcion" cols="30" rows="2"></textarea>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group full-width">
                            <input class="styled" type="submit" value="Guardar" id="g1">
                        </div>
                    </div>
                </form>
            </div> 
        </div>
        <div class="tab-pane fade" id="ex1-tabs-2" role="tabpanel" aria-labelledby="ex1-tab-2">
            <table id="form-table">
                <tr>
                    <td>
                        <select class="select-box" name="fuente" id="fuente" size="20" multiple="multiple"></select>
                    </td>
                    <td>
                        <div class="arrow-container">
                            <span class="arrow-btn" id="pasarIzq">&lt;</span><br>
                            <span class="arrow-btn" id="pasarIzqTodos">&lt;&lt;</span><br>
                            <span class="arrow-btn" id="pasarDer">&gt;</span><br>
                            <span class="arrow-btn" id="pasarDerTodos">&gt;&gt;</span><br>
                        </div>
                    </td>
                    <td>
                        <select class="select-box" name="seleccionados" id="seleccionados" size="20" multiple="multiple"></select>
                    </td>
                </tr>
            </table>
        </div>
        <div class="tab-pane fade" id="ex1-tabs-3" role="tabpanel" aria-labelledby="ex1-tab-3">
            <form class="form-container">
                <div class="form-group">
                    <label for="nombre">Nombre</label>
                    <input type="text" id="nombre" name="nombre">
                </div>
                <div class="form-group">
                    <label for="cargo">Cargo</label>
                    <input type="text" id="cargo" name="cargo">
                </div>
                <div class="form-group">
                    <label for="recurso">Recurso</label>
                    <input type="text" id="recurso" name="recurso">
                </div>
                <div class="form-group">
                    <input class="styled" type="button" value="Guardar" id="guardarPonente">
                </div>
            </form>
        </div>
        <div class="tab-pane fade" id="ex1-tabs-4" role="tabpanel" aria-labelledby="ex1-tab-4">
            <div class="tab-content">
                <div id="grupos-container">
                    <select id="grupos-select" name="grupos" size="10" multiple="multiple"></select>
                </div>
            </div>
            <input class="styled" type="button" value="Guardar" id="g2"/>
        </div>
    </div>

    <!-- MDBootstrap JS -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.js"></script>
    <!-- Initialization for MDBootstrap -->
    <script>
        // Ensure MDBootstrap components are initialized
        document.addEventListener('DOMContentLoaded', function() {
            var tabs = document.querySelectorAll('[data-mdb-toggle="tab"]');
            var btnGuardarSimple = document.getElementById('g1');

            tabs.forEach(function(tab) {
                tab.addEventListener('click', function(event) {
                    event.preventDefault();
                    var target = document.querySelector(tab.getAttribute('href'));
                    var allContent = document.querySelectorAll('.tab-pane');
                    allContent.forEach(function(content) {
                        content.classList.remove('show', 'active');
                    });
                    target.classList.add('show', 'active');
                });
            });

            // Control tabs accessibility based on select input
            var actividadSelect = document.getElementById('actividad-select');
            var tabLinks = document.querySelectorAll('.nav-link');

            actividadSelect.addEventListener('change', function() {
                if (actividadSelect.value === 'compuesta') {
                    tabLinks.forEach(function(link, index) {
                        if (index > 0) { // Disable tabs 2, 3, and 4
                            link.classList.add('disabled');
                        }
                    });
                } else {
                    tabLinks.forEach(function(link) {
                        link.classList.remove('disabled');
                    });
                }

                // Si la opción seleccionada es "simple"
                if (actividadSelect.value === 'simple') {
                    // Deshabilitar el botón de guardar
                    btnGuardarSimple.disabled = true;
                } else {
                    // Habilitar el botón de guardar en otros casos
                    btnGuardarSimple.disabled = false;
                }
            });

            // Initialize state based on the default selection
            actividadSelect.dispatchEvent(new Event('change'));
        });
    </script>
    {% block javascripts %}
        <script src="js/jsAltaMasiva/pestaña.js"></script>
        <script src="js/jsAltaMasiva/tablas.js"></script>
        <script src="js/pestaña/agregaActividad.js"></script>
        <script src="js/pestaña/agregaPonente.js"></script>
    {% endblock %}
</body>
</html>
